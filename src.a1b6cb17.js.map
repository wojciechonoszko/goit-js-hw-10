{"version":3,"sources":["index.js"],"names":["DEBOUNCE_DELAY","fetchUsersBtn","document","querySelector","userList","countryList","input","doThing","console","log","fetchCountries","fetch","value","trim","then","response","ok","length","alert","Error","status","json","renderCountryList","countries","markup","map","country","flags","svg","name","join","innerHTML","array","key","languages","push","capital","population","addEventListener","_","debounce","catch","error"],"mappings":";;;AA+HC,aA/HD,QAAA,oBAEA,MAAMA,EAAiB,IAGjBC,EAAgBC,SAASC,cAAc,QACvCC,EAAWF,SAASC,cAAc,cAClCE,EAAcH,SAASC,cAAc,iBACrCG,EAAQJ,SAASC,cAAc,SAkBrC,SAASI,IACPC,QAAQC,IAAI,0BAA4BH,EAAQ,OAgBlD,SAASI,IACAC,OAAAA,2CAA2CL,EAAMM,MAAMC,yDAAyDC,KACpHC,IACM,IAACA,EAASC,IAAQV,EAAMM,MAAMK,OAAS,EAEpC,MADNC,MAAM,4CACA,IAAIC,MAAMJ,EAASK,QAGpBL,OAAAA,EAASM,SA0BtB,SAASC,EAAkBC,GAItBA,GAHHf,QAAQC,IAAIc,EAAUN,QAGnBM,EAAUN,QAAU,GAAOM,EAAUN,QAAU,GAAK,CACjDO,MAAAA,EAASD,EACZE,IAAKC,6CAEyBA,EAAQC,MAAMC,yDACXF,EAAQG,gCAGzCC,KAAK,IACRzB,EAAY0B,UAAYP,OACnB,GAAID,EAAUN,OAAS,GAAI,CAC1BO,MAAAA,EAASD,EACZE,IAAKC,GACI,2CAMTI,KAAK,IACRzB,EAAY0B,UAAYP,OAEjB,GAAyB,IAArBD,EAAUN,OAAc,CAC3BO,MAAAA,EAASD,EACZE,IAAKC,IACJlB,QAAQC,IAAIiB,EAAQG,MACdG,MAAAA,EAAM,GAEP,IAAA,MAAMC,KAAOP,EAAQQ,UACxBF,EAAMG,KAAK,IAAIF,EAAIJ,MACnBrB,QAAQC,IAAIwB,EAAIJ,MAIV,oDACuBH,EAAQC,MAAMC,wDAChBF,EAAQG,iDACdH,EAAQU,iDACJV,EAAQW,mDACTL,0BAG3BF,KAAK,IACRzB,EAAY0B,UAAYP,GAzG5BlB,EAAMgC,iBAAiB,QAASC,EAAEC,SAAS,KACzC9B,IACGI,KAAMS,GAAcD,EAAkBC,IACtCkB,MAAOC,GAAUlC,QAAQC,IAAIiC,KAC/B,MAMHlC,QAAQC,IAAIH,EAAMM,MAAMK","file":"src.a1b6cb17.js","sourceRoot":"../src","sourcesContent":["import './css/styles.css';\n\nconst DEBOUNCE_DELAY = 300;\n\n\nconst fetchUsersBtn = document.querySelector(\".btn\");\nconst userList = document.querySelector(\".user-list\");\nconst countryList = document.querySelector(\".country-list\");\nconst input = document.querySelector('input');\n\n//input.addEventListener('input', doThing());\n\n// input.addEventListener(\"input\", _.debounce(() => {\n//   fetchUsers()\n//     .then((users) => renderUserList(users))\n//     .catch((error) => console.log(error));\n// }, 300)\n// );\n\ninput.addEventListener(\"input\", _.debounce(() => {\n  fetchCountries()\n    .then((countries) => renderCountryList(countries))\n    .catch((error) => console.log(error));\n}, 300)\n);\n\nfunction doThing(){\n  console.log('Horray! Someone wrote \"' + input + '\"!\"')\n}\nconsole.log(input.value.length)\n\n\n\n// fetchUsersBtn.addEventListener(\"click\", () => {\n//   fetchUsers()\n//     .then((users) => renderUserList(users))\n//     .catch((error) => console.log(error));\n// });\n\n\n\n// const searchParams = input.value;\n\nfunction fetchCountries() {\n  return fetch(`https://restcountries.com/v2/name/${input.value.trim()}?fields=name,capital,population,flags,languages`).then(\n    (response) => {\n      if ((!response.ok) && (input.value.length > 0)) {\n        alert(\"OOps, there is no country with that name\");\n        throw new Error(response.status);\n        \n      }\n      return response.json();\n      //return fetchCountries.js();\n    }\n  )\n  // .then((data) => {\n  //   console.log(data);\n  // })\n  // .catch((error) => {});\n}\n\n// function renderUserList(users) {\n//   const markup = users\n  \n//     .map((user) => {\n//       return `<li>\n//           <p><b>Name</b>: ${user.name.official}</p>\n//           <p><b>Capital</b>: ${user.capital}</p>\n//           <p><b>Population</b>: ${user.population}</p>\n//           <p><b>Flags</b>: ${user.flags.svg}</p>\n//           <p><b>languages</b>: ${user.languages}</p>\n//         </li>`;\n//     })\n//     .join(\"\");\n//   userList.innerHTML = markup;\n// }\n\nfunction renderCountryList(countries) {\n  console.log(countries.length)\n  \n  \nif ((countries.length >= 2) && (countries.length <= 10)) {\n  const markup = countries\n    .map((country) => {\n      return `<li>\n      <p><img class=\"flag\" src=\" ${country.flags.svg}\" alt=\"flag\">\n          <span class=country-names>${country.name}</span></p>\n      </li>`;\n    })\n    .join(\"\");\n  countryList.innerHTML = markup;\n} else if (countries.length > 10) {\n  const markup = countries\n    .map((country) => {\n      return `\n      <p>\n      \n      </p>\n      `;\n    })\n    .join(\"\");\n  countryList.innerHTML = markup;\n    \n  } else if (countries.length === 1) {\n    const markup = countries\n      .map((country) => {\n        console.log(country.name);\n        const array=[];\n\n        for (const key of country.languages) {\n          array.push(\" \"+key.name);\n          console.log(key.name);\n          \n          \n        }\n        return `<li>\n          <p><img class=\"flag\" src=\" ${country.flags.svg}\" alt=\"flag\">\n          <span class=country-name>${country.name}</span></p>\n          <p><b>Capital</b>: ${country.capital}</p>\n           <p><b>Population</b>: ${country.population}</p>\n           <p><b>Languages</b>: ${array}</p>\n         </li>`;\n      })\n      .join(\"\");\n    countryList.innerHTML = markup;\n      \n    } \n}\n\n"]}